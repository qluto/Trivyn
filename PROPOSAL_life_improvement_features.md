# Trivyn 機能拡張企画書（v2）

## 設計原則：軽さ優先

> **毎日の体験は今のまま軽く。深い機能は「使い始め」と「節目」だけ。**

---

## 体験設計の基本方針

| タイミング | 負荷 | やること |
|-----------|------|---------|
| **毎日** | 軽い | 今まで通り。3つの目標を入れて、完了するだけ |
| **週末** | やや軽い | 振り返り（質問が少し変わる程度） |
| **月末** | やや重い | 月の振り返り + 来月の方向性を考える |
| **使い始め** | 重い | Vision/Anti-Vision を設定（15分程度） |
| **年始/年末** | 重い | 年間の振り返り・再設定（任意） |

---

## 採用する機能（3つに絞る）

### 1. Vision & Anti-Vision（オンボーディング時に設定）

**目的**: すべての目標の「北極星」を持つ

**何をするか**:
- 初回起動時（または任意のタイミング）に設定画面へ誘導
- 2つの質問に答えるだけ：
  1. **Vision**: 「3年後、理想の火曜日はどんな1日？」（2-3文）
  2. **Anti-Vision**: 「このまま何も変わらなかったら、3年後はどうなってる？」（2-3文）

**日常への影響**: なし
- 設定したら普段は見えない場所に格納
- 振り返り画面や設定画面から「いつでも見返せる」
- 目標入力時に強制表示などはしない（軽さ維持）

**UI イメージ**:
```
設定 > 私のビジョン

┌─────────────────────────────────┐
│ 🎯 理想の未来                    │
│ 「朝、自分のプロジェクトに没頭    │
│  している。場所に縛られず...」    │
│                        [編集]   │
├─────────────────────────────────┤
│ ⚠️ 避けたい未来                  │
│ 「惰性で同じ日々を繰り返し、      │
│  "いつか" と言い続けている」      │
│                        [編集]   │
└─────────────────────────────────┘
```

---

### 2. 振り返り質問の改善（週次・月次）

**目的**: 振り返りをより意味あるものに

**現状**: 3つの空欄テキストフィールド（何を書けばいいかわかりにくい）

**改善案**: 質問形式に変更（記入する量は同じ）

**週次振り返り（日曜）**:
1. 今週、最も充実していた瞬間は？
2. 今週、惰性で過ごしてしまった時間は？
3. 来週、ひとつだけ変えるなら？

**月次振り返り（月末）**:
1. この1ヶ月で、自分の中で変化したことは？
2. 来月、最も注力したいことは？
3. （Vision を表示）この方向に進んでいる？

**日常への影響**: なし
- 振り返りのタイミングでだけ表示される
- 質問が変わるだけで、操作は同じ

---

### 3. 年間目標（オプション）

**目的**: 月次目標の上位レイヤーを持ちたい人向け

**何をするか**:
- レベル切り替えに「今年」を追加
- 日次・週次・月次と同じ操作感
- 最大3つの年間目標を設定可能

**日常への影響**: ほぼなし
- 使いたい人だけが使う
- 日次の目標入力には一切影響しない
- 月次振り返り時に「年間目標との整合性」を任意で確認

**UI イメージ**:
```
┌────────────────────────────┐
│  今日  今週  今月  [今年]  │  ← 4つ目のタブ追加
└────────────────────────────┘
```

---

## 採用しない機能（と理由）

| 機能 | 不採用の理由 |
|-----|-------------|
| 目標の「Why」フィールド | 毎日の入力が重くなる。書きたい人は目標タイトルに含めればよい |
| 中断通知（オートパイロット中断） | 通知が増えるとうっとうしい。本当に必要な人はリマインダーアプリを使えばよい |
| ゲーミフィケーション（XP・レベル） | 複雑化する。Three Wins のシンプルさを損なう |
| 心理的発掘プロトコル | 重すぎる。やりたい人は元記事を読んでノートでやればよい |
| 目標の階層可視化 | 既存の parent_goal_id で技術的には可能だが、UIが複雑になる |
| 制約設定 | Vision に含めれば十分 |
| 発達段階アセスメント | アプリの範囲を超える |

---

## 実装の優先順位

### Phase 1: 振り返りの質問化（最小工数）

**変更点**:
- 振り返り画面の3つのテキストフィールドに質問ラベルを追加
- 週次と月次で質問を変える
- DBスキーマ変更なし

**工数**: 小（フロントエンドのみ）

---

### Phase 2: Vision & Anti-Vision

**変更点**:
- 設定画面に「私のビジョン」セクション追加
- 2つのテキストエリア（Vision / Anti-Vision）
- 月次振り返り時に Vision を表示

**DB変更**:
```sql
-- settings テーブルに保存
INSERT INTO settings (key, value) VALUES ('vision', '...');
INSERT INTO settings (key, value) VALUES ('anti_vision', '...');
```

**工数**: 中（設定画面の拡張 + 振り返り画面の微修正）

---

### Phase 3: 年間目標（オプション）

**変更点**:
- GoalLevel に 'yearly' を追加
- レベル切り替え UI に4つ目のタブ
- 年間振り返り機能（任意）

**DB変更**:
- goals.level に 'yearly' を追加

**工数**: 中（既存パターンの拡張）

---

## まとめ

Dan Koe のフレームワークから**エッセンスだけ**を抽出：

| コンセプト | Trivyn での実現方法 |
|-----------|-------------------|
| Vision / Anti-Vision | 設定画面で一度設定、振り返り時に参照 |
| 階層的な目標 | 年 → 月 → 週 → 日（年はオプション）|
| 意識的な振り返り | 質問形式の振り返り |

**追加しないこと**が重要：
- 毎日の入力を複雑にしない
- 通知を増やさない
- ゲーム要素で気を散らさない

> Trivyn は「軽く使える」からこそ続く。
> 深い思考は、ユーザーが準備できたときに、ユーザー自身がする。
