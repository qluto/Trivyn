# Trivyn 機能拡張企画書

## 「良い人生を送ろうとしている人」のためのアプリへ

Dan Koe の「How to fix your entire life in 1 day」を基に、Trivyn を単なる目標管理ツールから**人生変革を支援するコンパニオンアプリ**へと進化させる企画です。

---

## 背景：Dan Koe のフレームワーク

### 核心的な洞察

1. **アイデンティティ優先** - 行動を変えるのではなく、自分自身を変える
2. **目標の階層性** - Anti-vision → Vision → 1年 → 1月 → 日々のレバー
3. **無意識の目標** - 人は常に目標に向かって行動している（それが有害でも）
4. **オートパイロットの中断** - 意識的に自分を問い直す習慣
5. **人生のゲーム化** - Vision（勝利条件）、Anti-vision（敗北条件）、Mission（ミッション）、Quest（クエスト）

### 現在の Trivyn との対応

| Dan Koe のコンセプト | 現在の Trivyn | ギャップ |
|---------------------|--------------|---------|
| Anti-vision（避けたい人生） | なし | **新規必要** |
| Vision（理想の人生） | なし | **新規必要** |
| 1年目標 | なし | **新規必要** |
| 1月プロジェクト | 月次目標（3つ） | 改善余地あり |
| 週の計画 | 週次目標（3つ） | 改善余地あり |
| 日々のレバー | 日次目標（3つ） | 改善余地あり |
| 心理的発掘 | 振り返り機能 | **大幅強化必要** |
| オートパイロット中断 | リマインダー | **強化必要** |
| アイデンティティステートメント | なし | **新規必要** |

---

## Part 1: 既存機能の再調整

### 1.1 目標入力の深化

**現状**: 目標のタイトルのみ入力可能

**改善案**: 目標に「なぜ（Why）」を追加

```
目標: 毎朝6時に起きる
Why: 自分のための時間を確保し、反応的でなく主体的な一日を始めるため
```

**実装イメージ**:
- 目標入力時にオプションで「理由」を追加可能
- 目標をタップすると詳細（理由）が表示される
- 振り返り時に「なぜ」を振り返りの材料として活用

---

### 1.2 目標の階層構造を可視化

**現状**: 日次・週次・月次が独立して存在

**改善案**: 親子関係を視覚的に表現

```
月次: プログラミングの基礎を固める
  └── 週次: Rustの所有権を理解する
      └── 日次: 公式チュートリアルのChapter 4を読む
```

**実装イメージ**:
- 既存の `parent_goal_id` フィールドを活用
- 目標詳細画面で親目標・子目標を表示
- 「この目標は何のため？」を常に意識できる

---

### 1.3 振り返り機能の強化

**現状**: 3つの「洞察」テキストフィールド

**改善案**: Dan Koe スタイルの質問ベースの振り返り

**週次振り返りの質問例**:
1. 今週、最も生きていると感じた瞬間は？
2. 今週、オートパイロットで過ごした時間は何をしていた？
3. 来週、「理想の自分」ならどう過ごす？

**月次振り返りの質問例**:
1. この1ヶ月で、自分のアイデンティティに変化はあった？
2. 避けたい人生に近づいていないか？
3. 理想の人生に向けて、何が見えてきた？

---

### 1.4 リマインダーの進化：「中断通知」

**現状**: 目標設定・振り返りのリマインダーのみ

**改善案**: オートパイロット中断のための質問通知

**日中の中断質問例**:
- 11:00「今、何を避けるためにこれをしている？」
- 14:00「もし今日が録画されていたら、何を結論される？」
- 17:00「理想の自分なら、今から何をする？」

**実装イメージ**:
- 設定画面で「中断通知」のON/OFF
- 質問プールからランダムに選択
- 通知をタップすると簡単なメモ入力画面へ

---

## Part 2: 新規機能

### 2.1 Vision & Anti-Vision 機能 [重要度: 最高]

**概要**: 人生の「ゲームルール」を設定する最上位レイヤー

**Vision（理想の人生像）**:
- 「3年後の理想の火曜日」を記述
- アイデンティティステートメント「私は〇〇な人間だ」

**Anti-Vision（避けたい人生像）**:
- 「このまま5年間何も変わらなかったら」を記述
- 「私が絶対になりたくない姿」

**UI イメージ**:
```
┌─────────────────────────────────────┐
│        あなたの人生のルール          │
├─────────────────────────────────────┤
│  🎯 Vision                          │
│  「毎朝、自分のプロジェクトに没頭    │
│   できる生活。場所に縛られず、       │
│   価値を生み出し続ける人間」         │
│                                     │
│  ⚠️ Anti-Vision                     │
│  「惰性で同じ日々を繰り返し、        │
│   "いつか" と言い続けて何も変わらない │
│   未来の自分」                       │
└─────────────────────────────────────┘
```

**目標設定時の活用**:
- 新しい目標を追加する際、Vision/Anti-Vision との整合性をチェック
- 「この目標は理想の人生に近づく？避けたい人生から遠ざかる？」

---

### 2.2 年間目標（1-Year Lens）[重要度: 高]

**概要**: 日・週・月の上位レイヤーとして「年」を追加

**現在の構造**:
```
日次 → 週次 → 月次
```

**新しい構造**:
```
Vision/Anti-Vision
    └── 年次（1-Year Lens）
        └── 月次（Boss Fight）
            └── 週次（Sprint）
                └── 日次（Quest）
```

**年間目標の特徴**:
- 最大3つ（Three Wins のコンセプトを維持）
- 「1年後、この古いパターンを壊したと知るための具体的なこと」
- 四半期ごとに振り返りを促す

**UIイメージ**:
- ポップオーバーのレベル切り替えに「年」を追加
- または、Vision 画面の一部として年間目標を表示

---

### 2.3 心理的発掘プロトコル [重要度: 高]

**概要**: Dan Koe の「1日プロトコル」をアプリ内でガイドする機能

**3つのフェーズ**:

**Phase 1: 朝（Psychological Excavation）**
1. あなたが「耐えることを学んだ」鈍い不満は何？
2. 繰り返し愚痴を言うが、実際には変えていないことは？
3. あなたの行動を観察した人は、何があなたの本当の望みだと結論する？
4. 尊敬する人に認めるのが耐えられない、現在の人生の真実は？

**Phase 2: 日中（中断通知）**
- 設定した時間に質問が通知される
- 質問に対する短いメモを記録

**Phase 3: 夜（Synthesis）**
1. 今日、「なぜ行き詰まっていたか」について最も真実に感じたことは？
2. 本当の敵は何？（状況や他人ではなく、内面のパターンや信念）
3. 「私の人生がこうなることは絶対に許さない」を一文で
4. 「私が構築しているもの」を一文で

**実装イメージ**:
- 設定画面から「心理的発掘プロトコル」を開始
- 日付を指定して1日のガイダンスを受ける
- 回答は「発掘記録」として保存され、後で参照可能
- 年に1〜2回実施することを推奨

---

### 2.4 ゲーミフィケーション要素 [重要度: 中]

**概要**: 人生を「ビデオゲーム」として捉えるフレームワーク

**用語の置き換え（オプション設定）**:
| 現在の用語 | ゲーム用語 |
|-----------|----------|
| 年間目標 | Mission |
| 月次目標 | Boss Fight |
| 週次目標 | Sprint |
| 日次目標 | Daily Quest |

**XP（経験値）システム**:
- 目標完了でXPを獲得
- 日次: 10 XP
- 週次: 50 XP
- 月次: 200 XP
- 年次: 1000 XP
- 連続達成ボーナス

**レベルシステム**:
- XPの蓄積でレベルアップ
- レベルは「心の発達段階」をゆるく参照
  - Lv 1-10: Explorer（探求者）
  - Lv 11-25: Builder（構築者）
  - Lv 26-50: Architect（設計者）
  - Lv 51+: Master（達人）

**ストリーク表示**:
- 連続日数の可視化
- 週間・月間の達成率グラフ

---

### 2.5 制約（Constraints）設定 [重要度: 中]

**概要**: 「目標達成のために犠牲にしないもの」を明確化

**例**:
- 家族との夕食の時間
- 7時間の睡眠
- 週1回の運動

**実装イメージ**:
- Vision/Anti-Vision 画面の一部として表示
- 目標設定時に制約との衝突をチェック
- 「この目標は制約を侵害しませんか？」

---

### 2.6 発達段階セルフアセスメント [重要度: 低]

**概要**: Dan Koe の9段階の心の発達モデルに基づくセルフチェック

**9つの段階**:
1. 衝動的（Impulsive）
2. 自己防衛（Self-Protective）
3. 順応（Conformist）
4. 自己認識（Self-Aware）
5. 良心的（Conscientious）
6. 個人主義（Individualist）
7. 戦略家（Strategist）
8. 構成認識（Construct-Aware）
9. 統合（Unitive）

**実装イメージ**:
- 定期的（四半期ごと）にセルフアセスメントを促す
- 簡単な質問に答えることで、現在の段階を推定
- 次の段階への成長ヒントを表示
- 結果は記録され、時系列で成長を可視化

---

## Part 3: 実装ロードマップ

### Phase 1: 基盤強化（既存機能の改善）

1. **振り返り質問の改善**
   - 質問テンプレートの追加
   - 質問ベースのUIに変更

2. **中断通知機能**
   - 質問プールの作成
   - 通知スケジューリング
   - メモ入力UI

3. **目標の「Why」フィールド追加**
   - DBスキーマ更新（`motivation` カラム追加）
   - 入力・表示UI

### Phase 2: 上位レイヤーの追加

4. **Vision & Anti-Vision 機能**
   - 専用画面の作成
   - DBスキーマ（vision テーブル）
   - 目標設定時の参照UI

5. **年間目標の追加**
   - レベル切り替えUIの拡張
   - DBスキーマ更新（`yearly` レベル）
   - 年間振り返り機能

6. **目標の階層可視化**
   - 親子関係の設定UI
   - 階層ビュー

### Phase 3: エンゲージメント強化

7. **ゲーミフィケーション**
   - XPシステム
   - レベル・ストリーク表示

8. **心理的発掘プロトコル**
   - ガイド付きワークフロー
   - 発掘記録の保存・参照

9. **制約設定**
   - 制約入力UI
   - 目標との衝突チェック

### Phase 4: 高度な機能

10. **発達段階アセスメント**
    - 質問セット作成
    - 結果表示・時系列追跡

---

## 想定される効果

### ユーザーにとっての価値

1. **明確な方向性** - Vision/Anti-Vision により、日々の目標が「なぜ」重要かが明確に
2. **意識的な生活** - 中断通知により、オートパイロットを打破
3. **深い自己理解** - 心理的発掘により、無意識の目標を認識
4. **持続的なモチベーション** - ゲーミフィケーションにより、楽しみながら継続
5. **全体像の把握** - 階層的な目標構造により、大きな絵と日々のタスクが繋がる

### 競合との差別化

- **単なるTodoアプリではない**: 人生の方向性を設定する哲学的フレームワーク
- **単なる習慣トラッカーではない**: 「なぜその習慣が重要か」を問い続ける
- **単なるリマインダーではない**: 意識を覚醒させる質問を投げかける

---

## まとめ

Trivyn は「Three Wins」という優れた基盤を持っています。Dan Koe のフレームワークを取り入れることで、**「毎日3つの目標を達成するアプリ」から「人生を主体的にデザインするコンパニオン」**へと進化できます。

最も重要なのは、**Vision と Anti-Vision** の導入です。これにより、すべての目標が「避けたい人生から遠ざかり、理想の人生に近づく」という文脈の中に位置づけられます。

> "If you want a specific outcome in life, you must have the lifestyle that creates that outcome long before you reach it."
> — Dan Koe

Trivyn がその「ライフスタイル」を設計・実行・振り返りするためのツールとなることを目指します。
